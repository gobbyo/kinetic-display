<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Controller PCB - Kinetic Display</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Kinetic Display</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Contents</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Introduction</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../intro/" class="dropdown-item">Kinetic Display</a>
</li>
                                    
<li>
    <a href="../../prerequisitesoftware/" class="dropdown-item">Software and Microcontroller Preparation</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Parts</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../createandorder/bom/" class="dropdown-item">Bill of Materials</a>
</li>
                                    
<li>
    <a href="../../createandorder/pcb/" class="dropdown-item">Order PCBs</a>
</li>
                                    
<li>
    <a href="../../createandorder/3dprints/" class="dropdown-item">Print Parts</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Assemble</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../actuatorassembly/" class="dropdown-item">Actuators</a>
</li>
                                    
<li>
    <a href="../digitpcbassembly/" class="dropdown-item">Digit PCBs</a>
</li>
                                    
<li>
    <a href="../deploydigitproject/" class="dropdown-item">Deploy Digit and Controller Projects</a>
</li>
                                    
<li>
    <a href="../digitpcbtest/" class="dropdown-item">Test Digit PCBs</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Controller PCB</a>
</li>
                                    
<li>
    <a href="../buckassembly/" class="dropdown-item">5v Power Supply</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../digitpcbtest/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../buckassembly/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#controller_and_digit_1_pcb_assembly" class="nav-link">Controller and Digit 1 PCB Assembly</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#prerequisites" class="nav-link">Prerequisites</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#assemble_digit_1" class="nav-link">Assemble Digit 1</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#mount_the_l293d_16-pin_ic_stepper_motor_drivers" class="nav-link">Mount the L293D 16-pin IC Stepper Motor Drivers</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#add_the_pcb_mount_two_port_2p_terminal_block_connectors" class="nav-link">Add the PCB Mount, Two port (2P) Terminal Block Connectors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#add_the_electrolytic_and_ceramic_capacitors" class="nav-link">Add the Electrolytic and Ceramic Capacitors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#add_the_20_pin_headers_and_install_the_microcontroller" class="nav-link">Add the 20 pin Headers and Install the Microcontroller</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#digits_0_2_3_schematics" class="nav-link">Digits 0, 2, &amp; 3 Schematics</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="controller_and_digit_1_pcb_assembly">Controller and Digit 1 PCB Assembly<a class="headerlink" href="#controller_and_digit_1_pcb_assembly" title="Permanent link">&para;</a></h1>
<p>Digit 1 and the colons are on a single PCB. Digit 1 is identical to digits 0, 2, and 3 except it is contained on a single PCB with the colons. The controller operates the colons and is the central command and control for the display performing the following functions:</p>
<ul>
<li>Sends commands to digits as to what to display (i.e. 0-9, A-F)</li>
<li>Sends commands for the brightness of the digits</li>
<li>When in the Admin mode, it will transmit its own wifi service that provides a way to change the display settings</li>
<li>Manages the scheduler, which is the mechanism for displaying time, date, external temperature and humidity, and interior temperature and humidity.</li>
<li>When connected to a wifi network, it will obtain its public facing IP address, look up the time zone it is located in, and set the display to the local time</li>
<li>When connected to a wifi network, it will obtain the closest weather station and, depending on the scheduler, may display the external temperature and humidity.</li>
<li>Manages the low power consumption mode by turning off the power to digits 0-3.  When awakened, it will turn back on the power to digits 0-3.</li>
</ul>
<p>Below is the fully assembled, front face of the controller PCB.
<img alt="front-face-controller-pcb" src="../../img/controllerpcb/fullyassembled-frontface.webp" />
Below is the fully assembled, back side of the controller PCB.
<img alt="back-face-controller-pcb" src="../../img/controllerpcb/fullyassembled-backface.webp" /></p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../../createandorder/pcb/">Fabrication of the digit PCBs</a></li>
<li>Table of components and tools</li>
</ul>
<p><strong><em>Table of components</em></strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Quantity</th>
<th style="text-align: left;">Component</th>
<th style="text-align: center;">Image</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">5</td>
<td style="text-align: left;">16 pin IC socket</td>
<td style="text-align: center;"><img alt="component-1" src="../../img/component/component-1.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">5</td>
<td style="text-align: left;">L293D stepper motor driver</td>
<td style="text-align: center;"><img alt="component-2" src="../../img/component/component-2.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">4</td>
<td style="text-align: left;">20 pin female header connector</td>
<td style="text-align: center;"><img alt="component-3" src="../../img/component/component-3.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: left;">20 pin single row breakaway male connector</td>
<td style="text-align: center;"><img alt="component-4" src="../../img/component/component-4.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">6</td>
<td style="text-align: left;">2 Port PCB Mount Screw Terminal Block Connector Straight Pin</td>
<td style="text-align: center;"><img alt="component-5" src="../../img/component/component-5.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: left;">0.1μ farad ceramic capacitor</td>
<td style="text-align: center;"><img alt="component-6" src="../../img/component/component-6.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: left;">1μ farad electrolytic capacitor</td>
<td style="text-align: center;"><img alt="component-7" src="../../img/component/component-7.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">28</td>
<td style="text-align: left;">5mm Flat top LED, anode long lead (any color)</td>
<td style="text-align: center;"><img alt="component-8" src="../../img/component/component-8.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: left;">3mm Flat top LED, anode long lead (any color)</td>
<td style="text-align: center;"><img alt="component-17" src="../../img/component/component-17.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: left;">Raspberry Pi Pico 2040 with Headers</td>
<td style="text-align: center;"><img alt="component-9" src="../../img/component/component-9.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: left;">Raspberry Pi Pico W 2040 with Headers</td>
<td style="text-align: center;"><img alt="component-9" src="../../img/component/component-16.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: left;">Controller PCB</td>
<td style="text-align: center;">See next section</td>
</tr>
</tbody>
</table>
<p><strong><em>Table of tools</em></strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Required</th>
<th style="text-align: left;">Tool</th>
<th style="text-align: center;">Image</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Yes</td>
<td style="text-align: left;">Soldering station</td>
<td style="text-align: center;"><img alt="tool-4" src="../../img/tools/tool-4.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">Yes</td>
<td style="text-align: left;">0.8mm 1.76oz RoHS flux core solder</td>
<td style="text-align: center;"><img alt="tool-1" src="../../img/tools/tool-1.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">Yes</td>
<td style="text-align: left;">Mini flush cutters</td>
<td style="text-align: center;"><img alt="tool-6" src="../../img/tools/tool-6.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">Yes</td>
<td style="text-align: left;">Isopropyl Alcohol</td>
<td style="text-align: center;"><img alt="tool-3" src="../../img/tools/tool-3.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">Yes</td>
<td style="text-align: left;">Cotton Facial Pads</td>
<td style="text-align: center;"><img alt="tool-2" src="../../img/tools/tool-2.webp" /></td>
</tr>
</tbody>
</table>
<h2 id="assemble_digit_1">Assemble Digit 1<a class="headerlink" href="#assemble_digit_1" title="Permanent link">&para;</a></h2>
<p>On the controller PCB, follow the instructions from the digit PCB assembly to assemble digit one.</p>
<ol>
<li>From the front face of the controller PCB, <a href="../digitpcbassembly/#add-the-16-pin-headers">add the 16 pin headers</a> as previously completed for the digit PCBs. Note in the picture below that you'll add an additional (5th) 16 pin header to the controller PCB.
<img alt="1-controllerpcb" src="../../img/controllerpcb/1-controllerpcb.webp" /></li>
<li>From the front face of the controller PCB, <a href="../digitpcbassembly/#add-the-28-leds">add the 28 5mm LEDs</a>as previously completed for the digit PCBs. Do not solder the 5mm LED into the "Top-LED1" or "LWR-LED1" location on the controller PCB. Instructions later in this section will detail how to install the 3mm LEDs into the "Top-LED1" and "LWR-LED1" locations.
<img alt="1-controllerpcb" src="../../img/controllerpcb/2-controllerpcb.webp" /></li>
<li><a href="../digitpcbassembly/#add-the-motor-pins">Add the motor pins</a>. There are two additional motor pins (pairs) you'll need to add, on the back face of the PCB titled "Colon-Top" and "Colon-LWR"</li>
</ol>
<h2 id="mount_the_l293d_16-pin_ic_stepper_motor_drivers">Mount the L293D 16-pin IC Stepper Motor Drivers<a class="headerlink" href="#mount_the_l293d_16-pin_ic_stepper_motor_drivers" title="Permanent link">&para;</a></h2>
<ol>
<li>From the front of the digit PCB, orient the motor driver so the notch (or pin 1) is aligned with the 16 pin header.
<img alt="digitpcbmotordriver1" src="../../img/digitpcbassembly/1-digitpcbassembly-motordriver.webp" /></li>
<li>CAREFULLY insert the motor driver into the 16 pin header and ensure none of the pins on the motor driver are bent or protruding from the 16 pin header.
<img alt="digitpcbmotordriver2" src="../../img/digitpcbassembly/2-digitpcbassembly-motordriver.webp" /></li>
<li>Repeat the install for the remaining motor drivers.</li>
</ol>
<h2 id="add_the_pcb_mount_two_port_2p_terminal_block_connectors">Add the PCB Mount, Two port (2P) Terminal Block Connectors<a class="headerlink" href="#add_the_pcb_mount_two_port_2p_terminal_block_connectors" title="Permanent link">&para;</a></h2>
<ol>
<li>On the front of the digit PCB, insert the PCB two port terminal block connector into the 5v through holes so the face of the connector where the wires are inserted points toward the LEDs on the PCB.
<img alt="digitpcbconnector-1" src="../../img/digitpcbassembly/1-digitpcbassembly-connector.webp" /></li>
<li>Solder the block terminal connector pins on the back of the digit PCB.
<img alt="digitpcbconnector-2" src="../../img/digitpcbassembly/2-digitpcbassembly-connector.webp" /></li>
<li>On the front of the digit PCB position the 2 port terminal block connector facing away from the LEDs. For PCBs labelled "2" &amp; "3", insert the connector pins into the UART Tx-1/Rx-1 through holes. For the digit PCB labelled "0", insert the connector into the Tx-0/Rx-0 through holes.
<img alt="digitpcbconnector-3" src="../../img/digitpcbassembly/3-digitpcbassembly-connector.webp" /></li>
<li>On the back of the digit PCB, solder the remaining connector pins, cut the pins flush, resolder to a smooth bead, then remove the flux wth a cotton dabbed with isopropyl alcohol.
<img alt="digitpcbconnector-4" src="../../img/digitpcbassembly/4-digitpcbassembly-connector.webp" /></li>
</ol>
<h2 id="add_the_electrolytic_and_ceramic_capacitors">Add the Electrolytic and Ceramic Capacitors<a class="headerlink" href="#add_the_electrolytic_and_ceramic_capacitors" title="Permanent link">&para;</a></h2>
<ol>
<li>On the front of the digit PCB, align the electrolytic capacitor "-" sign opposite the "+" printed on the PCB for capacitor "c1", see the picture below. Insert the pins into the through holes, then turn the digit PCB over to the back side and solder the capacitor.
<img alt="digitpcbcapacitor-1" src="../../img/digitpcbassembly/1-digitpcbassembly-capacitor.webp" /></li>
<li>On the front of the digit PCB, insert the ceramic capacitor pins into the through holes titled "c2". Turn the digit PCB over to the back and solder the capacitor.</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ceramic capacitors do not have polarity and can be inserted in any direction.</p>
</div>
<p><img alt="digitpcbcapacitor-2" src="../../img/digitpcbassembly/3-digitpcbassembly-capacitor.webp" />
4. On the back of the digit PCB, cut the pins flush, resolder to a smooth bead, then remove the flux with a cotton dabbed with isopropyl alcohol.
<img alt="digitpcbcapacitor-3" src="../../img/digitpcbassembly/4-digitpcbassembly-capacitor.webp" /></p>
<h2 id="add_the_20_pin_headers_and_install_the_microcontroller">Add the 20 pin Headers and Install the Microcontroller<a class="headerlink" href="#add_the_20_pin_headers_and_install_the_microcontroller" title="Permanent link">&para;</a></h2>
<ol>
<li>On the back side of the PCB, place the two 20 pin headers into the through holes for "RASP1". Carefully turn over the PCB while keeping the 20 pin headers in the through holes.
<img alt="digitpcbmicrocontroller-1" src="../../img/digitpcbassembly/1-digitpcbassembly-micro.webp" /></li>
<li>Level the PCB and adjust the two 20 pin headers so they are perpendicular to the PCB. Solder the pins once in place. Snip all 40 of the pins flush, resolder each to a smooth bead, then remove the flux with a cotton dabbed with isopropyl alcohol.
<img alt="digitpcbmicrocontroller-2" src="../../img/digitpcbassembly/2-digitpcbassembly-micro.webp" /></li>
<li>Orient the Raspberry Pi Pico 2040 microcontroller so the USB port is facing in the same direction as the PCB silk screen, then gently mount the microcontroller onto the header.
<img alt="digitpcbmicrocontroller-3" src="../../img/digitpcbassembly/3-digitpcbassembly-micro.webp" /></li>
</ol>
<p>Congratulations for assembling a digit PCB! Be sure to test the digit PCB before assembling the next one.</p>
<h2 id="digits_0_2_3_schematics">Digits 0, 2, &amp; 3 Schematics<a class="headerlink" href="#digits_0_2_3_schematics" title="Permanent link">&para;</a></h2>
<p><img alt="digitschematic-1" src="../../img/digitpcbassembly/digit-schematic-motorcontrollers.png" />
<img alt="digitschematic-2" src="../../img/digitpcbassembly/digit-schematic-microcontroller.webp" /></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
