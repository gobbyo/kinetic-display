<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Digit PCBs - Kinetic Display</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Kinetic Display</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Contents</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Introduction</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../intro/" class="dropdown-item">Kinetic Display</a>
</li>
                                    
<li>
    <a href="../../prerequisitesoftware/" class="dropdown-item">Software and Microcontroller Preparation</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Parts</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../createandorder/bom/" class="dropdown-item">Bill of Materials</a>
</li>
                                    
<li>
    <a href="../../createandorder/pcb/" class="dropdown-item">Order PCBs</a>
</li>
                                    
<li>
    <a href="../../createandorder/3dprints/" class="dropdown-item">Print Parts</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Assemble</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../actuatorassembly/" class="dropdown-item">Actuators</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Digit PCBs</a>
</li>
                                    
<li>
    <a href="../deploydigitproject/" class="dropdown-item">Deploy Digit Project</a>
</li>
                                    
<li>
    <a href="../digitpcbtest/" class="dropdown-item">Test Digit PCBs</a>
</li>
                                    
<li>
    <a href="../controllerpcbassembly/" class="dropdown-item">Controller PCB</a>
</li>
                                    
<li>
    <a href="../deploycontrollerproject/" class="dropdown-item">Deploy Controller Project</a>
</li>
                                    
<li>
    <a href="../controllerpcbtest/" class="dropdown-item">Test Controller PCB</a>
</li>
                                    
<li>
    <a href="../powermanagementpcb/" class="dropdown-item">Power Management PCB</a>
</li>
                                    
<li>
    <a href="../powermanagementpcbtest/" class="dropdown-item">Test Power Management PCB</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../actuatorassembly/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../deploydigitproject/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#digit_pcb_assembly" class="nav-link">Digit PCB Assembly</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#prerequisites" class="nav-link">Prerequisites</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#label_the_digit_pcb" class="nav-link">Label the Digit PCB</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#add_the_16_pin_headers" class="nav-link">Add the 16 pin headers</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#add_the_28_leds" class="nav-link">Add the 28 LEDs</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#add_the_motor_pins" class="nav-link">Add the Motor Pins</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#mount_the_motor_drivers" class="nav-link">Mount the Motor Drivers</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#add_the_pcb_mount_two_pin_2p_terminal_block_connectors" class="nav-link">Add the PCB Mount, Two pin (2P) Terminal Block Connectors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#add_the_electrolytic_and_ceramic_capacitors" class="nav-link">Add the Electrolytic and Ceramic Capacitors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#add_the_20_pin_headers_and_install_the_microcontroller" class="nav-link">Add the 20 pin Headers and Install the Microcontroller</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#digit_schematics" class="nav-link">Digit Schematics</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="digit_pcb_assembly">Digit PCB Assembly<a class="headerlink" href="#digit_pcb_assembly" title="Permanent link">&para;</a></h1>
<p>The display has 4 digits. The digits are numbered from right to left, 0-3, when looking at the front of display. The digit PCBs are digits 0, 2, and 3 whereas the controller PCB is digit 1 and includes the colons. The digit PCBs are the foundation of the display and serve several important functions:</p>
<ul>
<li>provides a mechanical backstop to the actuator's segment when retracting into the display</li>
<li>provides a consistent distance of dispersion for the lighting of the segment, giving each segment a uniform glow rather than spots of light</li>
<li>provides the traditional role of reducing the wiring, efficiently connects various electronic component minimizing the overall size, reliable, cost-effective, and consistent quality of the circuitry</li>
</ul>
<p>This section details the assembly of the digit PCBs. Note the pictures below showing the fully assembled PCBs that will be covered in this section.</p>
<p>Front face fully assembled.
<img alt="digit pcb front face" src="../../img/digitpcbassembly/1-digitpcbassembly-frontface.webp" />
Back face fully assembled.
<img alt="digit pcb back face" src="../../img/digitpcbassembly/1-digitpcbassembly-backface.webp" /></p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../../createandorder/pcb/">Fabrication of the digit PCBs</a></li>
<li>Table of components and tools</li>
</ul>
<p><strong><em>Table of components</em></strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Quantity</th>
<th style="text-align: left;">Component</th>
<th style="text-align: center;">Image</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">4</td>
<td style="text-align: left;">16 pin IC socket</td>
<td style="text-align: center;"><img alt="component-1" src="../../img/component/component-1.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">4</td>
<td style="text-align: left;">L293D stepper motor driver</td>
<td style="text-align: center;"><img alt="component-2" src="../../img/component/component-2.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: left;">20 pin female header connector</td>
<td style="text-align: center;"><img alt="component-3" src="../../img/component/component-3.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: left;">20 pin single row breakaway male connector</td>
<td style="text-align: center;"><img alt="component-4" src="../../img/component/component-4.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: left;">2 Pin PCB Mount Screw Terminal Block Connector Straight Pin</td>
<td style="text-align: center;"><img alt="component-5" src="../../img/component/component-5.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: left;">0.1μ farad ceramic capacitor</td>
<td style="text-align: center;"><img alt="component-6" src="../../img/component/component-6.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: left;">1μ farad electrolytic capacitor</td>
<td style="text-align: center;"><img alt="component-7" src="../../img/component/component-7.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">28</td>
<td style="text-align: left;">5mm Flat top LED, anode long lead (any color)</td>
<td style="text-align: center;"><img alt="component-8" src="../../img/component/component-8.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: left;">Raspberry Pi Pico 2040 with Headers</td>
<td style="text-align: center;"><img alt="component-9" src="../../img/component/component-9.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">3</td>
<td style="text-align: left;">Digit PCBs</td>
<td style="text-align: center;">See <a href="#label_the_digit_pcb">labelling the digit PCBs</a></td>
</tr>
</tbody>
</table>
<p><strong><em>Table of tools</em></strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Required</th>
<th style="text-align: left;">Tool</th>
<th style="text-align: center;">Image</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Yes</td>
<td style="text-align: left;">Soldering station</td>
<td style="text-align: center;"><img alt="tool-4" src="../../img/tools/tool-4.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">Yes</td>
<td style="text-align: left;">0.8mm 1.76oz RoHS flux core solder</td>
<td style="text-align: center;"><img alt="tool-1" src="../../img/tools/tool-1.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">Yes</td>
<td style="text-align: left;">Mini flush cutters</td>
<td style="text-align: center;"><img alt="tool-6" src="../../img/tools/tool-6.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">Yes</td>
<td style="text-align: left;">Isopropyl Alcohol</td>
<td style="text-align: center;"><img alt="tool-3" src="../../img/tools/tool-3.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">Yes</td>
<td style="text-align: left;">Cotton Facial Pads</td>
<td style="text-align: center;"><img alt="tool-2" src="../../img/tools/tool-2.webp" /></td>
</tr>
<tr>
<td style="text-align: center;">No</td>
<td style="text-align: left;">Label maker</td>
<td style="text-align: center;"><img alt="tool-5s" src="../../img/tools/tool-5.webp" /></td>
</tr>
</tbody>
</table>
<h2 id="label_the_digit_pcb">Label the Digit PCB<a class="headerlink" href="#label_the_digit_pcb" title="Permanent link">&para;</a></h2>
<ol>
<li>Using a label maker or piece of tape and pen, create two sets of 3 labels: "0", "2", and "3". Add the <strong>(A)</strong> label to the <strong>(B)</strong> FRONT FACING SIDE of each of the 3 digit PCBs as placed in the picture below. Also note that digit 0 <strong>(C)</strong> in the picture below is a completed digit PCB ready for mounting onto the display.
<img alt="digitpcb-2" src="../../img/digitpcbassembly/2-digitpcbassembly.webp" /></li>
<li>Add the <strong>(A)</strong> label to the <strong>(B)</strong> BACK FACING SIDE of each of the 3 digit PCBs as placed in the picture below.
<img alt="digitpcb-3" src="../../img/digitpcbassembly/3-digitpcbassembly.webp" /></li>
</ol>
<h2 id="add_the_16_pin_headers">Add the 16 pin headers<a class="headerlink" href="#add_the_16_pin_headers" title="Permanent link">&para;</a></h2>
<ol>
<li>From the front side of the digit PCB, <strong>(A)</strong> insert the 16 pin header into the through holes by aligning the notch with the digit PCB top silk layer outline of the 16 pins. The notch in the 16-pin header is used to ensure correct orientation when connecting the L293D motor driver. Carefully turn over the digit PCB while keeping the 16 pin header in the through holes.
<img alt="digitpcb-4" src="../../img/digitpcbassembly/4-digitpcbassembly.webp" /></li>
<li><strong>(A)</strong> Solder the 16 pins and repeat the previous step until all 4 of the 16 pin headers are soldered into place.
<img alt="digitpcb-5" src="../../img/digitpcbassembly/5-digitpcbassembly.webp" /></li>
<li>From the back of the digit PCB, <strong>(A)</strong> cut off the soldered pins.
<img alt="digitpcb-6" src="../../img/digitpcbassembly/6-digitpcbassembly.webp" /></li>
<li>Touch up the clipped pins with a small bit of solder to make <strong>(A)</strong> smooth rounded beads instead of sharp points.
<img alt="digitpcb-7" src="../../img/digitpcbassembly/7-digitpcbassembly.webp" /></li>
<li>Clean up the soldered pins by removing the flux using a cotton pad dabbed with isopropyl alcohol. Repeat the previous step if you find your cotton pad is being torn from any protruding pins.
<img alt="digitpcb-8" src="../../img/digitpcbassembly/8-digitpcbassembly.webp" /></li>
</ol>
<h2 id="add_the_28_leds">Add the 28 LEDs<a class="headerlink" href="#add_the_28_leds" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>BEFORE SOLDERING LEDS ONTO YOUR DIGIT PCB, be sure to test your LEDs on a breadboard and use a digital camera to spot any variations in color when the LEDs are lit.</p>
</div>
<p>Below is a photo showing the color variation of blue 5mm LEDs within the same batch using a breadboards power rail with <strong>(C)</strong> 2.63v. Note the <strong>(A)</strong> light blue LEDs and the <strong>(B)</strong> purple LEDs within the same blue batch of LEDs.
<img alt="blueLEDs" src="../../img/digitpcbassembly/ledcolors.webp" /></p>
<ol>
<li>There are seven segments "A" through "G" each with four LEDs. From the front of the digit PCB, start with segment "A" by inserting the LED's <strong>(A)</strong> long lead (anode) into the "+" through hole. Repeat the process for all segment-A LEDs.
<img alt="digitpcbLEDs-1" src="../../img/digitpcbassembly/1-digitpcbassembly-LED.webp" /></li>
<li>Carefully turn over the digit PCB and rest it with the back facing up. Solder each LED pin onto the digit PCB, then <strong>(A)</strong> snip off the excess. Touch up the clipped pins with a small bit of solder to make smooth rounded beads instead of sharp points.
<img alt="digitpcbLEDs-3" src="../../img/digitpcbassembly/3-digitpcbassembly-LED.webp" /></li>
<li>Clean the flux off with <strong>(A)</strong> a cotton pad dabbed in isopropyl alcohol.
<img alt="digitpcbLEDs-4" src="../../img/digitpcbassembly/4-digitpcbassembly-LED.webp" /></li>
<li>Repeat the previous steps for segments B through G until all 28 LEDs are soldered onto the PCB. The picture below is the front face of the digit with all 28 LEDs soldered into place.
<img alt="digitpcbLEDs-5" src="../../img/digitpcbassembly/5-digitpcbassembly-LED.webp" /></li>
</ol>
<h2 id="add_the_motor_pins">Add the Motor Pins<a class="headerlink" href="#add_the_motor_pins" title="Permanent link">&para;</a></h2>
<ol>
<li>Break out 7 pairs of 2.54mm male breakaway pins using needle nose pliers.
<img alt="digitpcbmotorpins-2" src="../../img/digitpcbassembly/2-digitpcbassembly-motorpins.webp" /></li>
<li>On the back of the digit PCB, place the short end of the pin-pair into each actuator segment through hole (seg-A through seg-G).
<img alt="digitpcbmotorpins-3" src="../../img/digitpcbassembly/3-digitpcbassembly-motorpins.webp" /></li>
<li>On the front of the digit PCB motor solder pins into place.
<img alt="digitpcbmotorpins-4" src="../../img/digitpcbassembly/4-digitpcbassembly-motorpins.webp" /></li>
<li>Continuing on the front of the digit PCB, cut the pins flush on the pcb, then resolder the snipped pins to create smooth beads.
<img alt="digitpcbmotorpins-5" src="../../img/digitpcbassembly/5-digitpcbassembly-motorpins.webp" /></li>
<li>Clean off the flux residue using a cotton pad dabbed in isopropyl alcohol.
<img alt="digitpcbmotorpins-6" src="../../img/digitpcbassembly/6-digitpcbassembly-motorpins.webp" /></li>
</ol>
<h2 id="mount_the_motor_drivers">Mount the Motor Drivers<a class="headerlink" href="#mount_the_motor_drivers" title="Permanent link">&para;</a></h2>
<ol>
<li>From the front of the digit PCB, orient the motor driver so the notch (or pin 1) is aligned with the 16 pin header.
<img alt="digitpcbmotordriver1" src="../../img/digitpcbassembly/1-digitpcbassembly-motordriver.webp" /></li>
<li>CAREFULLY insert the motor driver into the 16 pin header and ensure none of the pins on the motor driver are bent or protruding from the 16 pin header.
<img alt="digitpcbmotordriver2" src="../../img/digitpcbassembly/2-digitpcbassembly-motordriver.webp" /></li>
<li>Repeat the install for the remaining motor drivers.</li>
</ol>
<h2 id="add_the_pcb_mount_two_pin_2p_terminal_block_connectors">Add the PCB Mount, Two pin (2P) Terminal Block Connectors<a class="headerlink" href="#add_the_pcb_mount_two_pin_2p_terminal_block_connectors" title="Permanent link">&para;</a></h2>
<ol>
<li>On the front of the digit PCB, insert the PCB two pin terminal block connector into the 5v through holes so the face of the connector where the wires are inserted points toward the LEDs on the PCB.
<img alt="digitpcbconnector-1" src="../../img/digitpcbassembly/1-digitpcbassembly-connector.webp" /></li>
<li>Solder the block terminal connector pins on the back of the digit PCB.
<img alt="digitpcbconnector-2" src="../../img/digitpcbassembly/2-digitpcbassembly-connector.webp" /></li>
<li>On the front of the digit PCB position the 2 pin terminal block connector facing away from the LEDs. For <strong>PCBs labelled "2" &amp; "3"</strong>, insert the connector pins into the <code>UART Tx-1/Rx-1</code> through holes. For the digit <strong>PCB labelled "0"</strong>, insert the connector into the <code>Tx-0/Rx-0</code> through holes.
<img alt="digitpcbconnector-3" src="../../img/digitpcbassembly/3-digitpcbassembly-connector.webp" /></li>
<li>On the back of the digit PCB, solder the remaining connector pins, cut the pins flush, resolder to a smooth bead, then remove the flux wth a cotton dabbed with isopropyl alcohol.
<img alt="digitpcbconnector-4" src="../../img/digitpcbassembly/4-digitpcbassembly-connector.webp" /></li>
</ol>
<h2 id="add_the_electrolytic_and_ceramic_capacitors">Add the Electrolytic and Ceramic Capacitors<a class="headerlink" href="#add_the_electrolytic_and_ceramic_capacitors" title="Permanent link">&para;</a></h2>
<ol>
<li>On the front of the digit PCB, align the electrolytic capacitor <code>-</code> sign opposite the <code>+</code> printed on the PCB for capacitor <code>c1</code>, see the picture below. Insert the pins into the through holes, then turn the digit PCB over to the back side and solder the capacitor.
<img alt="digitpcbcapacitor-1" src="../../img/digitpcbassembly/1-digitpcbassembly-capacitor.webp" /></li>
<li>On the front of the digit PCB, insert the ceramic capacitor pins into the through holes titled <code>c2</code>. Turn the digit PCB over to the back and solder the capacitor.</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ceramic capacitors do not have polarity and can be inserted in any direction.</p>
</div>
<p><img alt="digitpcbcapacitor-2" src="../../img/digitpcbassembly/3-digitpcbassembly-capacitor.webp" />
3. On the back of the digit PCB, cut the pins flush, resolder to a smooth bead, then remove the flux with a cotton dabbed with isopropyl alcohol.
<img alt="digitpcbcapacitor-3" src="../../img/digitpcbassembly/4-digitpcbassembly-capacitor.webp" /></p>
<h2 id="add_the_20_pin_headers_and_install_the_microcontroller">Add the 20 pin Headers and Install the Microcontroller<a class="headerlink" href="#add_the_20_pin_headers_and_install_the_microcontroller" title="Permanent link">&para;</a></h2>
<ol>
<li>On the back side of the PCB, place the two 20 pin headers into the through holes for <code>RASP1</code>. Carefully turn over the PCB while keeping the 20 pin headers in the through holes.
<img alt="digitpcbmicrocontroller-1" src="../../img/digitpcbassembly/1-digitpcbassembly-micro.webp" /></li>
<li>Level the PCB and adjust the two 20 pin headers so they are perpendicular to the PCB. Solder the pins once in place. Snip all 40 of the pins flush, resolder each to a smooth bead, then remove the flux with a cotton dabbed with isopropyl alcohol.
<img alt="digitpcbmicrocontroller-2" src="../../img/digitpcbassembly/2-digitpcbassembly-micro.webp" /></li>
<li>Orient the Raspberry Pi Pico 2040 microcontroller so the USB port is facing in the same direction as the PCB silk screen, then gently mount the microcontroller onto the header.
<img alt="digitpcbmicrocontroller-3" src="../../img/digitpcbassembly/3-digitpcbassembly-micro.webp" /></li>
</ol>
<p>Congratulations for assembling a digit PCB! Be sure to test the digit PCB before assembling the next one.</p>
<h2 id="digit_schematics">Digit Schematics<a class="headerlink" href="#digit_schematics" title="Permanent link">&para;</a></h2>
<p>The schematic diagrams in this section represent the <strong>Digit Motor Controller</strong> and <strong>Digits Microcontroller</strong> circuits:</p>
<ul>
<li><em>Motor Controller Circuit</em> drives the actuator motors for each segment (A-G) to physically move the segments into position, turns on the segment LEDs when extended, and turns off the segment LEDs when retracted.</li>
<li><em>Microcontroller Circuit</em> controls the LEDs for segment illumination (brightness) and communicates with the main controller (Raspberry Pi Pico W 2040) to receive display commands.</li>
</ul>
<p>Together, these circuits enable the digit PCBs to display numbers and characters as part of the larger kinetic display system. Below is an explanation of the components, their purpose, and how the circuitry functions.</p>
<h3 id="digit_motor_controller_schematic"><strong>Digit Motor Controller Schematic</strong><a class="headerlink" href="#digit_motor_controller_schematic" title="Permanent link">&para;</a></h3>
<p>The schematic in the section shows the motor control circuitry for the digit's seven-segment actuators (A-G). Each segment is controlled by a motor driver IC (L293D) connected to the Raspberry Pi Pico 2040. Note the L293D IC motor driver is considered outdated, but used in this circuit as it works well with toy motors and costs slightly less. For more details see the <a href="https://www.digikey.com/htmldatasheets/production/237694/0/0/1/l293dd.html?msockid=1bb835ba59046489292020fa582965d3">L293D motorcontroller datasheet</a>.</p>
<h4 id="key_motor_controller_components_and_their_purpose"><strong>Key Motor Controller Components and Their Purpose</strong><a class="headerlink" href="#key_motor_controller_components_and_their_purpose" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>L293D Motor Driver ICs (U1, U2, U3, U4)</strong>:</br>
    <em>Purpose</em>: Control the bidirectional movement of the actuator motors for each segment (A-G).</br>
    <em>Functionality</em>: Each IC controls two segments, allowing precise movement of the actuators.</br>
    <em>Pins</em>:<ul>
<li><code>ENABLE1</code> and <code>ENABLE2</code>: Controls the motor speed.</li>
<li><code>INPUT1</code>, <code>INPUT2</code>, <code>INPUT3</code>, <code>INPUT4</code>: Control the CW (Clockwise) and CCW (Counter clockwise) direction of the motor.</li>
<li><code>OUTPUT1</code>, <code>OUTPUT2</code>, <code>OUTPUT3</code>, <code>OUTPUT4</code>: Provide the output signals to the motors.</li>
</ul>
</li>
<li><strong>Actuator Motors (SEG-A to SEG-G)</strong>:</br>
    <em>Purpose</em>: Physically extends and retracts the segments of the seven-segment display to create the desired digit.</br>
    <em>Pins</em>:<ul>
<li><code>CW</code> extends the segment and <code>CCW</code> retracts the segment: Control the extension and retraction of the actuator.</li>
</ul>
</li>
<li><strong>Capacitors (C1, C2)</strong>:</br>
    <em>Purpose</em>: Provide power decoupling and noise filtering for the motor drivers.</br>
    <code>C1</code> (1μF): Stabilizes the power supply for the motor drivers.</br>
    <code>C2</code> (0.1μF): Filters high-frequency noise.</li>
<li><strong>GPIO Pins (from Raspberry Pi Pico 2040)</strong>:</br>
    <em>Purpose</em>: Send control signals to the motor drivers.</br>
    <em>Pins</em>:<ul>
<li><code>GPIO11</code>, <code>GPIO12</code>, <code>GPIO15</code>, etc.: Control the <code>INPUT</code> and <code>ENABLE</code> pins of the motor drivers.</li>
</ul>
</li>
</ol>
<h4 id="how_the_motor_controller_circuit_works"><strong>How the Motor Controller Circuit Works</strong><a class="headerlink" href="#how_the_motor_controller_circuit_works" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Motor Control</strong>:</br><ul>
<li>The Raspberry Pi Pico 2040 sends signals to the <code>INPUT</code> and <code>ENABLE</code> pins of the L293D ICs.</br></li>
<li>Based on these signals, the motor driver controls the direction and speed of the actuator motors.</li>
</ul>
</li>
<li><strong>Segment Movement</strong>:</br><ul>
<li>Each segment (A-G) is connected to a motor. The motor moves the segment into position to display the desired digit.</li>
</ul>
</li>
<li><strong>Power Stabilization</strong>:</br><ul>
<li>The capacitors <code>C1</code> and <code>C2</code> ensure stable operation of the motor drivers by filtering noise and stabilizing the power supply.</li>
</ul>
</li>
</ol>
<p><img alt="digitschematic-1" src="../../img/digitpcbassembly/digit-schematic-motorcontrollers.webp" /></p>
<h3 id="digit_microcontroller_schematic"><strong>Digit Microcontroller Schematic</strong><a class="headerlink" href="#digit_microcontroller_schematic" title="Permanent link">&para;</a></h3>
<p>The schematic in this section shows the microcontroller circuitry for controlling the LEDs and communicating with the motor controllers.</p>
<h4 id="key_microcontroller_components_and_their_purpose"><strong>Key Microcontroller Components and Their Purpose</strong><a class="headerlink" href="#key_microcontroller_components_and_their_purpose" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Raspberry Pi Pico 2040 (Microcontroller)</strong>:</br>
    <em>Purpose</em>: Acts as the central processing unit for the digit PCB.</br>
    <em>Functions</em>:<ul>
<li>Sends control signals to the motor drivers for segment movement.</li>
<li>Controls the LEDs for segment illumination.</li>
<li>Communicates with the main controller PCB via UART.</li>
</ul>
</li>
<li><strong>LEDs (A-LED1 to G-LED4)</strong>:</br>
    <em>Purpose</em>: Illuminates the segments of the seven-segment display.</br>
    <em>Configuration</em>:<ul>
<li>Each segment (A-G) has four LEDs connected in parallel.</li>
<li>The anode <code>+</code> is connected to the GPIO pins, and the cathode <code>-</code> is connected to ground.</li>
<li>Brightness is controlled by the GPIO PWM signals from the microcontroller.</li>
</ul>
</li>
<li><strong>Resistors (not used in lieu of PWM)</strong>:</br>
    <em>Purpose</em>: Prevents the LEDs from exceeding their maximum rated power capabilities. The software prevents any LED PWM signal from exceeding a 220 ohm resistor for 3.3v and therefore resistors are not needed.</li>
<li><strong>UART Connector</strong>:</br>
    <em>Purpose</em>: Provides communication between the digit PCB and the main controller PCB.</br>
    <em>Pins</em>:<ul>
<li><code>Rx-1</code>, <code>Tx-1</code>, <code>Rx-0</code>, <code>Tx-0</code>: Used for transmitting and receiving data.</li>
</ul>
</li>
<li><strong>Capacitors (C1, C2)</strong>:</br>
    <em>Purpose</em>: Provide power decoupling and noise filtering for the microcontroller and LEDs.</br>
    <code>C1</code> (1μF): Stabilizes the power supply for the LEDs.</br>
    <code>C2</code> (0.1μF): Filters high-frequency noise.</li>
</ol>
<h4 id="how_the_microcontroller_circuit_works"><strong>How the Microcontroller Circuit Works</strong><a class="headerlink" href="#how_the_microcontroller_circuit_works" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Segment Control</strong>:<ul>
<li>The Raspberry Pi Pico 2040 controls motor direction, extending or retracting the segment, and speed from GPIO pins connected to the motor controllers.</li>
<li>The microcontroller determines the length of time the motor is running (between 1/5th and 1/4th of a second), the CW (extend) or CCW (retract) direction of the actuator, and the speed of the motor which is a value typically between 50% to 100% of 5v.</li>
</ul>
</li>
<li><strong>LED Control</strong>:<ul>
<li>The Raspberry Pi Pico 2040 controls the LEDs by PWM from the GPIO pins that are connected to the anode of each LED.</li>
<li>This allows the microcontroller to turn on/off specific LEDs, control the brightness, and illuminates the desired segments.</li>
</ul>
</li>
<li><strong>Communication</strong>:<ul>
<li>The UART connector allows the digit PCB to receive UART commands from the controller and digit 1 PCB.</li>
<li>UART commands include which digit to display and brightness levels, as well as various actuator and digit settings.</li>
</ul>
</li>
<li><strong>State</strong>:<ul>
<li>The Raspberry Pi Pico 2040 stores the digit state at all times in order to gracefully transition from one number or character to the next and handle graceful or ungraceful power off situations.</li>
<li>The state includes which segment is extended or retracted, the type of character map used by the digits, as well as the speed and length of time to run the motors.</li>
</ul>
</li>
<li><strong>PowerCommands Stabilization</strong>:<ul>
<li>The capacitors <code>C1</code>, <code>C2</code> ensure stable operation of the LEDs and microcontroller by filtering noise and stabilizing the power supply.</li>
</ul>
</li>
</ol>
<p><img alt="digitschematic-2" src="../../img/digitpcbassembly/digit-schematic-microcontroller.webp" /></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
